<main class="u-block">
  <section class="u-block u-paper">
    <b ng-if="!$ctrl.info.profileReadyForPublic" class="alert alert-warning editDeveloper-warning">We do not show projects of users without name, location and contacts. We will include your account and projects into our search results once you complete your profile.</b>
    <form name="$ctrl.form" class="u-block" novalidate>
      <div class="editDeveloper-topPart">
        <div class="editDeveloper-inputsColumn">
          <h2 class="editDeveloper-header">Edit profile</h2>
          <sr-input
            name="'firstName'"
            form="$ctrl.form"
            ng-model="$ctrl.info.firstName"
            label="'First name'"
            required="true"
          ></sr-input>
          <sr-input
            name="'lastName'"
            form="$ctrl.form"
            ng-model="$ctrl.info.lastName"
            label="'Last name'"
            required="true"
          ></sr-input>
        </div>
        <div class="editDeveloper-imageColumn u-block">
          <sr-developer-avatar 
            image-class-name="'editDeveloper-avatarImage'"
            icon-class-name="'editDeveloper-avatarIcon'"
            class="editDeveloper-avatar" avatar-url="$ctrl.info.avatar"
          ></sr-developer-avatar>
        </div>
      </div>
      <sr-input
        name="'position'"
        form="$ctrl.form"
        ng-model="$ctrl.info.position"
        label="'Position'"
      ></sr-input>
      <sr-input
        name="'email'"
        required="true"
        form="$ctrl.form"
        ng-model="$ctrl.info.email"
        pattern-error="'It looks like you have provided an invalid email'"
        label="'Email (when someone will want to hire, they will need a way to reach to you)'"
      ></sr-input>
      <label class="u-inputContainer">
        <span class="u-inputLabel">Location<sr-red-star></sr-red-star></span>
        <input
          vs-google-autocomplete="$ctrl.autocompleteOptions"
          ng-model="$ctrl.location"
          name="location"
          required
          vs-city="$ctrl.info.city" 
          vs-country="$ctrl.info.country" 
          vs-place-id="$ctrl.info.placeId"
          type="text" 
          class="u-input"
          placeholder="Enter city name"
        >
        <div
          class="u-error"
          ng-show="$ctrl.form.$submitted || $ctrl.form.location.$touched">
          <div 
            ng-show="$ctrl.form.location.$error.required">This field is required</div>
        </div>
      </label>
      <div class="u-block editDeveloper-buttons">
        <sr-submit-button 
          error-text="'Something went wrong'"
          success-text="'Your account was updated'"
          class="editDeveloper-submitButton"
          state="$ctrl.state"
          ng-click="$ctrl.submit(info)"
        >
          Update profile
        </sr-submit-button>
        <button type="button" class="editDeveloper-cancelButton u-whiteButton" ui-sref="user-home">
          I will do this later
        </button>
      </div>
    </form>
  </section>
</main>
