<main class="u-block trainingCenterHome row">
  <h1>Training Center Home</h1>
  <section class="col-md-7 u-paper">
    <h3>Pending projects</h3>
    <div ng-repeat="repo in pendingRepos">
      <div class="trainingCenterHome-requestDetails u-block">
        <button class="btn btn-success" ng-click="approveRepo(repo)">Approve</button>
        <button class="btn btn-warning" ng-click="startDecliningRepo(repo)">Decline</button>
        <div class="trainingCenterHome-declineMessage u-block u-paper" ng-show="repo.isDeclining">
          <label>
            Please, explain a reason of decline to a developer
            <textarea class="trainingCenterHome-declineMessageInput" ng-model="repo.trainingCenterMessage"></textarea>
          </label><br/>
          <button class="btn btn-default" ng-click="cancelDecliningRepo(repo)">Cancel</button>
          <button class="btn btn-danger" ng-click="declineRepo(repo)">Confirm decline</button>
        </div>
      </div>
      <sr-repo-preview repo="repo"></sr-repo-preview>
    </div>
    <h3>Approved projects</h3>
    <div ng-repeat="repo in approvedRepos">
      <div class="trainingCenterHome-requestDetails u-block">
        <button class="btn btn-warning" ng-click="disapproveRepo(repo)">Move to pending</button>
        <button class="btn btn-warning" ng-click="startDecliningRepo(repo)">Decline</button>
        <div class="trainingCenterHome-declineMessage"  ng-show="repo.isDeclining">
          <label>
            <textarea ng-model="repo.trainingCenterMessage"></textarea>
          </label>
          <button class="btn btn-danger" ng-click="startDecliningRepo(repo)">Confirm decline</button>
        </div>
      </div>
      <sr-repo-preview repo="repo"></sr-repo-preview>
    </div>
    <h3>Declined projects</h3>
    <div ng-repeat="repo in declinedRepos">
      <div class="trainingCenterHome-requestDetails u-block">
        <button class="btn btn-warning" ng-click="disapproveRepo(repo)">Move to pending</button>
        <button class="btn btn-danger" ng-click="approveRepo(repo)">Approve</button>
      </div>
      <sr-repo-preview repo="repo"></sr-repo-preview>
    </div>
  </section>
  <section class="col-md-5">
    <h3>Profile details</h3>
    <article class="trainingCenterHome-profileDetails u-block">
      <form>
        <div class="form-group row">
          <label class="col-sm-6 col-xs-12">
            Training center name:
            <textarea class="form-control" ng-model="$ctrl.profile.name"></textarea>
          </label>
          <label class="col-sm-6 col-xs-12">
            <span class="trainingCenterHome-switchLabel">Account status: </span>
            <span class="trainingCenterHome-switch">
              <input type="checkbox" ng-model="$ctrl.profile.isPublic" ng-change="handleChange()">
              <span class="trainingCenterHome-slider" ng-class="{'is-checked': $ctrl.profile.isPublic}"></span>
            </span>
          </label>
        </div>
        <div class="form-group row col-sm-6 col-xs-12">
          <label class="">
            Training center website
            <textarea class="form-control" ng-model="$ctrl.profile.website"></textarea>
          </label>
        </div>
        <div class="form-group col-sm-6 col-xs-12">
          <label class="">
            Training center description
            <textarea class="form-control" ng-model="$ctrl.profile.description"></textarea>
          </label>
        </div>
        <div class="form-group">
          <label>
            Training center logo:
            </label>
          <div class="trainingCenterHome-formLine">
            <button type="button" class="btn btn-default" ngf-select ng-model="newLogo">Upload</button>
            <button type="button" class="btn btn-default" ng-show="newLogo" ng-click="clearLogo()">
              Clear logo
              <i class="glyphicon glyphicon-remove"></i>
            </button>
          </div>
          <img class="trainingCenterHome-logo trainingCenterHome-formLine" ng-if="!$ctrl.profile.hasLogo || newLogo" ngf-thumbnail="newLogo || '/client/assets/images/placeholder.svg'" />
          <img class="trainingCenterHome-logo trainingCenterHome-formLine" ng-show="$ctrl.profile.hasLogo && !newLogo" src="{{$ctrl.profile.logo}}" />
        </div>
        <sr-submit-button 
          ng-click="submitDetails()"
          error-text="'Something went wrong'"
          success-text="'Account updated'"
          state="$ctrl.profileFormState"
        >
          Apply changes
        </sr-submit-button>
      </form>
    </article>
  </section>
</main> 
